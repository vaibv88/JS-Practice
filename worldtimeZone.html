<!DOCTYPE html>
<html lang="en">
<html>
  <head>
    <title>World time Adjust Perfect</title>
  </head>
  <body>
    <div>Local Time is<span id="spanLocalTime"></span></div>
    <div id="divCityTime"></div>
    <form name="form1">
      <select size="5" name="lstCity">
	<option value="60" selected>Berlin
	<option value="330">Bombay
	<option value="0">London
	<option vaule="180">Moscow
	<option value="-300">NewYork
	<option value="60">Paris
	<option value="-480">San Francisco
	<option value="600">Sydney
      </select>
      <p>
      <input type ="checkbox" id="chkDst" name="chkDsk" />
      <label for="chkDsk">Adjust city time for Daylite Savings</label>
      </p>
    </form>

    <script>
      var myform = document.form1;
      var lstCity=document.lstCity;
      var selectedOption = lstCity[lstCity.selectedIndex];
      var offset = selectedOption.value;
      var selectedCity = selectedOption.text;

      var dstAdjust = 0;
      if (myForm.chkDst.checked) {
      dstAdjust = 60;
      }
      updateOutput(selectedCity, offset, dstAdjust);
      }
      function updateOutput(selectedCity, offset, dstAdjust) {
      var now = new Date();
      document.getElementById("spanLocalTime").innerHTML = now.toLocaleString();
      now.setMinutes(now.getMinutes() + now.getTimezoneOffset() + parseInt(offset, 10) + dstAdjust);
      var resultsText = selectedCity + " time is " +now.toLocaleString();
      document.getElementById("divCityTime").innerHTML = resultsText;
      }
      myForm.lstCity.addEventListener("change", updateTimeZone);
      myForm.chkDst.addEventListener("click", updateTimeZone);
      updateTimeZone();
    </script>
  </body>
  </html>
